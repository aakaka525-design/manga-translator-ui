# 2026-02-10 Phase4 GO/NO-GO Decision

## 评估输入（锁定）

- 目标：判断四期是否立项。
- 窗口：4 周。
- 产能：1 人并行维护。
- 评估主候选：S2（SQLite+Redis 混合 + Redis 强依赖 + Webhook）。
- 评分模型：价值40 / 成本30 / 风险30（1-5 分制换算）。

## 总分矩阵

> 说明：成本分与风险分为“可控性得分”（越高越可控）。

| 方案 | 价值(40) | 成本可控(30) | 风险可控(30) | 总分(100) | 判定 |
|---|---:|---:|---:|---:|---|
| S0（维持现状） | 16.0 | 27.0 | 24.0 | 67.0 | 条件立项（意义有限） |
| S1（轻量可观测） | 30.4 | 18.0 | 21.0 | 69.4 | 条件立项（建议 2 周试点） |
| S2（Redis 强依赖） | 35.2 | 10.8 | 9.6 | 55.6 | 暂缓（NO-GO） |

## 一票否决检查

1. Redis 强依赖在目标环境无可靠运维保障：当前未满足。  
2. 告警通道无法提供稳定可达 Webhook SLA：当前未满足。

结论：S2 命中否决条件，当前窗口不可直接立项。

## GO/NO-GO 结论

- 对“四期主候选 S2”结论：**NO-GO（当前阶段暂缓）**。
- 对“是否做四期优化”结论：**可转为 S1 轻量路径做条件立项（2 周试点）**。

## 推荐路径（替代优化清单，不引入 Redis）

1. 先落地 S1 最小可观测闭环：
   - 新增健康状态接口（只读）
   - 新增告警事件记录与测试 webhook 接口
   - 管理页增加告警看板与错误码趋势
2. 补齐 CI 门禁：
   - PR 必须跑 `pytest` + `frontend npm test`
   - 增加关键接口契约回归
3. 设定可升级门槛（满足后再评估 S2）：
   - 连续 2 周稳定采样到任务延迟/失败率基线
   - 告警链路成功率达到约定阈值
   - 运维侧确认 Redis 托管方案、备份与故障演练

## 若未来转 GO（S2）建议首批范围与冻结项

### 首批范围（仅在前置满足后）

1. Redis 队列接入（任务排队与消费者状态）
2. SQLite 归档保留现状（历史查询与审计）
3. `/admin/scraper/queue/stats` 与 `/admin/scraper/health` 首批落地

### 冻结项（暂不做）

1. 多区域 Redis 容灾
2. 自动扩缩容 worker
3. 复杂告警编排（仅保留基础 webhook）
